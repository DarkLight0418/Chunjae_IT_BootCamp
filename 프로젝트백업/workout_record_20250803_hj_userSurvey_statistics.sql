
-- 테이블 newbiehealth.statistics 구조 내보내기

-- 기존 테이블 제거
DROP TABLE IF EXISTS `statistics`

CREATE TABLE `statistics` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_key` varchar(20) NOT NULL,
  `date` date NOT NULL,
  `day_of_week` varchar(10) DEFAULT NULL,
  `total_sets` int(11) DEFAULT 0,
  `total_reps` int(11) DEFAULT 0,
  `total_weight_volume` int(11) DEFAULT 0,
  `goal_achievement_rate` int(11) DEFAULT 0,
  `calories_burned` int(11) DEFAULT 0,
  `muscle_mass_before` float DEFAULT NULL,
  `muscle_mass_after` float DEFAULT NULL,
  `body_fat_before` float DEFAULT NULL,
  `body_fat_after` float DEFAULT NULL,
  `activity_minutes` int(11) DEFAULT 0,
  PRIMARY KEY (`id`),
  CONSTRAINT `statistics_ibfk_1` FOREIGN KEY (`user_key`) REFERENCES `user` (`user_key`),
  CONSTRAINT `goal_achievement_rate` CHECK (`goal_achievement_rate` <= 100)
) ENGINE=InnoDB AUTO_INCREMENT=63 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- 테이블 데이터 newbiehealth.statistics:~62 rows (대략적) 내보내기
INSERT INTO `statistics` (`id`, `user_key`, `date`, `day_of_week`, `total_sets`, `total_reps`, `total_weight_volume`, `goal_achievement_rate`, `calories_burned`, `muscle_mass_before`, `muscle_mass_after`, `body_fat_before`, `body_fat_after`, `activity_minutes`) VALUES
	(1, 'U001', '2025-07-01', 'Tue', 7, 76, 3272, 82, 327, 29.6, 30.2, 22.6, 21.2, 35),
	(2, 'U001', '2025-07-02', 'Wed', 7, 60, 2208, 55, 220, 29.4, 29.7, 23.6, 22.5, 35),
	(3, 'U001', '2025-07-03', 'Thu', 7, 68, 3092, 77, 309, 29.6, 30, 22.4, 21.4, 35),
	(4, 'U001', '2025-07-04', 'Fri', 7, 63, 2997, 75, 299, 29.4, 29.9, 23.1, 21.8, 35),
	(5, 'U001', '2025-07-05', 'Sat', 7, 69, 3225, 81, 322, 29.4, 30, 23.3, 22.2, 35),
	(6, 'U001', '2025-07-06', 'Sun', 10, 108, 4623, 100, 462, 29.6, 29.9, 23.6, 22.5, 50),
	(7, 'U001', '2025-07-07', 'Mon', 7, 80, 3048, 76, 304, 29.7, 30.1, 22.8, 21.7, 35),
	(8, 'U001', '2025-07-08', 'Tue', 7, 80, 3112, 78, 311, 29.7, 30.2, 22.8, 21.5, 35),
	(9, 'U001', '2025-07-09', 'Wed', 10, 103, 3810, 95, 381, 29.3, 29.8, 22.2, 20.6, 50),
	(10, 'U001', '2025-07-10', 'Thu', 7, 63, 2286, 57, 228, 29.6, 29.9, 22.7, 21, 35),
	(11, 'U001', '2025-07-11', 'Fri', 6, 51, 1980, 50, 198, 29.9, 30.4, 22.7, 21.2, 30),
	(12, 'U001', '2025-07-12', 'Sat', 9, 87, 3783, 95, 378, 29.6, 30.2, 23.5, 22.2, 45),
	(13, 'U001', '2025-07-13', 'Sun', 10, 95, 3484, 87, 348, 29.1, 29.4, 23.3, 22.5, 50),
	(14, 'U001', '2025-07-14', 'Mon', 9, 90, 3636, 91, 363, 29.5, 30, 23.4, 22.5, 45),
	(15, 'U001', '2025-07-15', 'Tue', 6, 69, 2949, 74, 294, 29.3, 29.8, 22.6, 21.7, 30),
	(16, 'U001', '2025-07-16', 'Wed', 6, 57, 1881, 47, 188, 29.5, 29.8, 22.7, 21.5, 30),
	(17, 'U001', '2025-07-17', 'Thu', 11, 120, 5200, 100, 520, 29.5, 30.2, 22.5, 21.6, 55),
	(18, 'U001', '2025-07-18', 'Fri', 9, 93, 3399, 85, 339, 29.4, 29.9, 23.2, 21.9, 45),
	(19, 'U001', '2025-07-19', 'Sat', 6, 54, 2160, 54, 216, 29.7, 30.2, 22.3, 21.2, 30),
	(20, 'U001', '2025-07-20', 'Sun', 11, 116, 4740, 100, 474, 29.3, 29.7, 22.8, 21.6, 55),
	(21, 'U001', '2025-07-21', 'Mon', 8, 88, 4024, 100, 402, 29.4, 29.9, 23, 21.9, 40),
	(22, 'U001', '2025-07-22', 'Tue', 11, 110, 4324, 100, 432, 29.2, 29.5, 23.1, 22.2, 55),
	(23, 'U001', '2025-07-23', 'Wed', 6, 63, 3042, 76, 304, 29.4, 29.8, 23, 21.9, 30),
	(24, 'U001', '2025-07-24', 'Thu', 10, 105, 4836, 100, 483, 29.6, 29.9, 23.3, 22.5, 50),
	(25, 'U001', '2025-07-25', 'Fri', 11, 123, 5835, 100, 583, 29.6, 30, 23, 21.5, 55),
	(26, 'U001', '2025-07-26', 'Sat', 7, 59, 1957, 49, 195, 29.5, 30, 22.9, 21.8, 35),
	(27, 'U001', '2025-07-27', 'Sun', 8, 72, 3128, 78, 312, 29.8, 30.1, 22.9, 21.4, 40),
	(28, 'U001', '2025-07-28', 'Mon', 12, 112, 5196, 100, 519, 29.6, 30.1, 23.3, 22.2, 60),
	(29, 'U001', '2025-07-29', 'Tue', 7, 80, 3568, 89, 356, 29.2, 29.6, 23.4, 22.5, 35),
	(30, 'U001', '2025-07-30', 'Wed', 11, 96, 3760, 94, 376, 29.8, 30.2, 22.8, 20.9, 55),
	(31, 'U001', '2025-07-31', 'Thu', 10, 96, 3816, 95, 381, 29.6, 30, 23.3, 22.2, 50),
	(32, 'U001', '2025-08-01', 'Fri', 6, 60, 1899, 47, 189, 29.6, 30.1, 22.7, 21.4, 30),
	(33, 'U001', '2025-08-02', 'Sat', 9, 96, 4329, 100, 432, 29.5, 29.9, 23.1, 21.8, 45),
	(34, 'U001', '2025-08-03', 'Sun', 7, 72, 3480, 87, 348, 29.5, 29.9, 23.1, 22.4, 35),
	(35, 'U001', '2025-08-04', 'Mon', 11, 101, 4834, 100, 483, 29.2, 29.6, 22.9, 22.1, 55),
	(36, 'U001', '2025-08-05', 'Tue', 8, 76, 3104, 78, 310, 29.3, 29.8, 22.5, 21.8, 40),
	(37, 'U001', '2025-08-06', 'Wed', 6, 66, 2688, 67, 268, 29.7, 30.2, 22.3, 21, 30),
	(38, 'U001', '2025-08-07', 'Thu', 7, 72, 3636, 91, 363, 29.7, 30.2, 23.1, 22.2, 35),
	(39, 'U001', '2025-08-08', 'Fri', 6, 66, 2460, 62, 246, 29.6, 30, 23.4, 21.6, 30),
	(40, 'U001', '2025-08-09', 'Sat', 12, 104, 4084, 100, 408, 29.1, 29.3, 22.7, 21.2, 60),
	(41, 'U001', '2025-08-10', 'Sun', 8, 84, 3768, 94, 376, 29.7, 30, 23.3, 22.2, 40),
	(42, 'U001', '2025-08-11', 'Mon', 10, 89, 3964, 99, 396, 29.5, 29.8, 24.3, 23.3, 50),
	(43, 'U001', '2025-08-12', 'Tue', 8, 80, 4004, 100, 400, 29.6, 30.2, 22.9, 21.8, 40),
	(44, 'U001', '2025-08-13', 'Wed', 8, 84, 3648, 91, 364, 29.6, 29.9, 23.1, 22, 40),
	(45, 'U001', '2025-08-14', 'Thu', 11, 102, 3766, 94, 376, 29.3, 29.7, 23.1, 22.1, 55),
	(46, 'U001', '2025-08-15', 'Fri', 9, 72, 3072, 77, 307, 29.6, 30, 22.7, 21.2, 45),
	(47, 'U001', '2025-08-16', 'Sat', 12, 116, 5568, 100, 556, 29.5, 29.9, 22.9, 21.3, 60),
	(48, 'U001', '2025-08-17', 'Sun', 8, 92, 2936, 73, 293, 29.6, 29.9, 23.2, 21.7, 40),
	(49, 'U001', '2025-08-18', 'Mon', 10, 106, 4074, 100, 407, 29.6, 29.8, 22.7, 21.4, 50),
	(50, 'U001', '2025-08-19', 'Tue', 7, 84, 3624, 91, 362, 29.5, 30.1, 22.8, 21.3, 35),
	(51, 'U001', '2025-08-20', 'Wed', 7, 78, 3666, 92, 366, 29.5, 29.9, 22.4, 21.2, 35),
	(52, 'U001', '2025-08-21', 'Thu', 7, 62, 2494, 62, 249, 29.1, 29.5, 22.4, 20.9, 35),
	(53, 'U001', '2025-08-22', 'Fri', 9, 87, 3711, 93, 371, 29.7, 30.2, 23.5, 22.3, 45),
	(54, 'U001', '2025-08-23', 'Sat', 7, 73, 2932, 73, 293, 29.4, 30, 23.5, 22.8, 35),
	(55, 'U001', '2025-08-24', 'Sun', 6, 72, 3456, 86, 345, 29.8, 30.2, 23.2, 21.7, 30),
	(56, 'U001', '2025-08-25', 'Mon', 7, 68, 2876, 72, 287, 29.3, 29.8, 23.2, 21.6, 35),
	(57, 'U001', '2025-08-26', 'Tue', 11, 113, 5052, 100, 505, 29.4, 29.9, 22.9, 22, 55),
	(58, 'U001', '2025-08-27', 'Wed', 6, 60, 2712, 68, 271, 29.7, 30.3, 22, 20.5, 30),
	(59, 'U001', '2025-08-28', 'Thu', 10, 99, 4665, 100, 466, 29.6, 29.9, 23.5, 22.3, 50),
	(60, 'U001', '2025-08-29', 'Fri', 7, 70, 3060, 77, 306, 29.4, 29.8, 22.5, 21.2, 35),
	(61, 'U001', '2025-08-30', 'Sat', 7, 62, 3166, 79, 316, 29.4, 29.9, 23.2, 22, 35),
	(62, 'U001', '2025-08-31', 'Sun', 6, 66, 3498, 87, 349, 29.4, 29.7, 23.4, 22.6, 30);

-- 테이블 newbiehealth.user_survey 구조 내보내기
ALTER TABLE user_survey
ADD COLUMN goal_daily_calories INT DEFAULT NULL;

-- 테이블 데이터 newbiehealth.user_survey:~2 rows (대략적) 내보내기
REPLACE INTO `user_survey` (`user_key`, `goal_weight`, `goal_daily_calories`, `created_at`) VALUES
	('U001', 65, 400, '2025-08-03 08:20:57'),
	('U002', 324, NULL, '2025-08-03 08:22:04');
